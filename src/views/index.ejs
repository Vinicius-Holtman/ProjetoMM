<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="/css/styles.css">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projeto MM</title>
</head>

<body class="grey darken-4">

  <header>

    <ul id="slide-out" class="sidenav sidenav-fixed grey darken-4">
      <li>
        <div class="user-view">
          <div class="background">
            <img src="/img/wallpaper.jpg">
          </div>
          <a href="#"><img class="circle" src="https://avatars.githubusercontent.com/u/42218598?v=4"></a>
          <a href="#"><span class="white-text name">Vinicius Holtman</span></a>
          <a href="#"><span class="white-text email">viniholtman28@gmail.com</span></a>
        </div>
      </li>
      <li><a href="#!" class="white-text"><i class="material-icons white-text">wb_sunny</i>Meu dia</a></li>
      <li><a href="#!" class="white-text"><i class="material-icons white-text">star_border</i>Importante</a></li>
      <li><a href="#!" class="white-text"><i class="material-icons white-text">newspaper</i>Tarefas</a></li>
      <li>
        <div class="divider"></div>
      </li>
      <li><a class="waves-effect white-text" href="#!"><i class="material-icons white-text">shopping_cart</i>Compras</a>
      </li>
    </ul>
    <a href="#" data-target="slide-out" class="sidenav-trigger hide-on-large-only"><i
        class="material-icons">menu</i></a>
  </header>

  <main>
    <div class="row">
      <div class="col s12 m8 offset-m1 xl7 offset-xl1">
        <div class="white-text">
          <h2>Meu Dia <%-nome%></h2>
          <p>
            <%-JSON.stringify(category)%>
          </p>

          <p>
            <%-category[0].id%> => <%-category[0].category%>
            <br>
            <%-category[0].created_at.getDate()%>
            <%-category[0].created_at.getMonth() + 1%>
            <%-category[0].created_at.getFullYear()%>
          </p>

          <span>segunda-feira, 20 de dezembro</span>
        </div>
        <div>
          <form id="todoListItems" action="#">
            <p class="input-checkbox">
              <label>
                <input type="checkbox" class="filled-in" checked="checked" />
                <span class="white-text">Comprar Pão</span>
              </label>
            </p>
            <p class="input-checkbox">
              <label>
                <input type="checkbox" class="filled-in" checked="checked" />
                <span class="white-text">Beber Água</span>
              </label>
            </p>
            <p class="input-checkbox">
              <label>
                <input type="checkbox" class="filled-in" checked="checked" />
                <span class="white-text">Almoçar</span>
              </label>
            </p>
          </form>
        </div>
      </div>
    </div>
  </main>

</body>

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script src="/js/sidenav.js"></script>

<script>

  $.get('/todo').done(function(){

  }).fail(function(){

  });

  axios.get('/todo')
    .then(function (response) {
      
      $('#todoListItems').empty();

      response.data.forEach(element => {
        
        let html = `
        <p class="input-checkbox">
          <label>
            <input type="checkbox" class="filled-in" />
            <span class="white-text">${element.title}</span>
          </label>
        </p>
        `;

        $('#todoListItems').append(html);

      });

    })
    .catch(function (error) {
      // handle error
      console.log(error);
    })
    .then(function () {
      // always executed
    });

</script>

</html>